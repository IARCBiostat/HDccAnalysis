% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim_cox_age_data.R
\name{sim_cox_age_data}
\alias{sim_cox_age_data}
\title{Simulate attained-age survival data under a Cox PH model}
\usage{
sim_cox_age_data(
  n,
  entry_age,
  censor_age,
  beta,
  covariates,
  baseline_hazard = 0.004,
  baseline_hazard_by_age = NULL,
  target_avg_baseline_hazard = NULL
)
}
\arguments{
\item{n}{Integer, number of subjects.}

\item{entry_age}{Numeric scalar or length-n vector of entry ages.}

\item{censor_age}{Numeric scalar or length-n vector of administrative
censoring ages.}

\item{beta}{Numeric vector of regression coefficients with length p.}

\item{covariates}{Numeric matrix or data.frame with n rows and p columns.}

\item{baseline_hazard}{Optional positive scalar specifying a constant
baseline hazard over attained age. Must be NULL if
\code{baseline_hazard_by_age} is provided.}

\item{baseline_hazard_by_age}{Optional data.frame with columns
age_lo, age_hi, hazard defining piecewise-constant baseline hazard
over attained age intervals [age_lo, age_hi). Must be NULL if
\code{baseline_hazard} is provided.}

\item{target_avg_baseline_hazard}{Optional positive scalar. If provided,
rescales the baseline hazard so the cohort-weighted average equals this
value.}
}
\value{
data.frame with id, entry_age, censor_age, time, event and covariates.
}
\description{
Simulate attained-age survival data under a Cox PH model
}
\details{
Exactly one of \code{baseline_hazard} or \code{baseline_hazard_by_age}
must be specified (i.e. one must be non-NULL). Supplying both or
neither results in an error.
}
